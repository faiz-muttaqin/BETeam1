(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2070:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(3014)}])},3014:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return h}});var t=o(5893),i=o(1664),s=o.n(i),a=o(7294),r=o(5675),l=o.n(r),c=o(5503);o(5762);var d=o(7702),u=(0,c.ZF)({apiKey:"AIzaSyC96Gulkv1Et62_A1HRvszdxQGNVFJhYh0",authDomain:"traditional-game-react-app.firebaseapp.com",projectId:"traditional-game-react-app",storageBucket:"traditional-game-react-app.appspot.com",messagingSenderId:"152912824991",appId:"1:152912824991:web:b6cde54907893627b3b0aa",measurementId:"G-MMWGK6YXQ8"}),g=(0,d.v0)(u);function h(){var e=function(){j("flex"),console.log("submit button diklik"),c&&p&&(fetch("https://traditionalgame.herokuapp.com/api/login",{method:"POST",body:JSON.stringify({username:c,password:p}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){console.log(e),console.log(e.result),console.log(e.result.data),console.log(e.result.data._id),console.log(e.result.data.username),console.log(e.result.token),console.log("ini string json :"+JSON.stringify([{_id:e.result.data._id,user:e.result.data.username}]));var o=JSON.stringify({_id:e.result.data._id,user:e.result.data.username});n("tgtoken",e.result.token,30),n("user-data",o,30),j("none")}).catch(function(e){console.log(e),alert("Login Gagal"),window.location.href="/login"}),console.log("user & pass kirim"))},n=function(e,n,o){var t="";if(o){var i=new Date;i.setTime(i.getTime()+864e5*o),t="; expires="+i.toUTCString()}document.cookie=e+"="+(n||"")+t+"; path=/"},o=function(){j("flex"),console.log("google button diklik"),(0,d.rh)(g,b).then(function(e){d.hJ.credentialFromResult(e).accessToken;var o=e.user;n("user-data",JSON.stringify({_id:o.uid,user:o.email}),30),n("googlelogin",JSON.stringify(o),3),j("none"),window.location.href="/"}).catch(function(e){e.code,e.message,e.customData.email,d.hJ.credentialFromError(e)})},i=function(){},r=(0,a.useState)(""),c=r[0],u=r[1],h=(0,a.useState)(""),p=h[0],m=h[1],f=(0,a.useState)("none"),x=f[0],j=f[1],b=new d.hJ;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-center center-div",id:"login",children:(0,t.jsxs)("div",{className:"container border py-5",children:[(0,t.jsxs)("div",{className:"title pb-5",children:[(0,t.jsx)("h1",{className:"font-weight-bold",children:"Login"}),(0,t.jsx)("span",{children:"Log in for the existing user"})]}),(0,t.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"username",name:"username",value:c,onChange:function(e){return u(e.target.value)},required:!0})}),(0,t.jsx)("div",{className:"form group",children:(0,t.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"password",value:p,onChange:function(e){return m(e.target.value)},required:!0})}),(0,t.jsx)("button",{type:"submit",className:"btn btn-success rounded-pill",onClick:e,children:"Submit"})]}),(0,t.jsx)("h6",{className:"orLoginWith",children:"Or Login With :"}),(0,t.jsxs)("div",{className:"social-login-group",children:[(0,t.jsxs)("button",{id:"googleLoginBtn",onClick:o,children:[(0,t.jsx)(l(),{src:"./googleLogo.png",alt:"GLogo",width:"18px",height:"18px"}),"Google"]}),(0,t.jsxs)("button",{id:"facebookLoginBtn",onClick:i,children:[(0,t.jsx)(l(),{src:"./facebookLogo.png",alt:"GLogo",width:"20px",height:"20px"}),"Facebook"]})]}),(0,t.jsxs)("p",{children:["Dont have an account yet?",(0,t.jsx)(s(),{href:"/signup",children:"  Sign Up"})]}),(0,t.jsx)(s(),{href:"/",children:"Back to Homepage"})]})}),(0,t.jsx)("div",{id:"loadingPopUp",style:{display:x},children:(0,t.jsxs)("section",{id:"loadingPopUpBox",children:[(0,t.jsx)("div",{className:"loader"}),(0,t.jsx)("h2",{children:"Log In...."})]})})]})}o(6245)}},function(e){e.O(0,[452,664,675,383,774,888,179],function(){return e(e.s=2070)}),_N_E=e.O()}]);